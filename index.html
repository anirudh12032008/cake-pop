<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Disco Ball</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
      }
      #scene {
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <a-scene>
      <a-entity>
        <a-sphere
          id="disco-ball"
          radius="3"
          position="0 0 0"
          color="#FFF"
          metalness="1"
          roughness="0.05"
          rotation="0 0 0"
        >
        </a-sphere>
      </a-entity>

      <script>
        const lightCount = 50;
        const colors = [
          "#F00",
          "#0F0",
          "#00F",
          "#FF0",
          "#0FF",
          "#F0F",
          "#FFF",
          "#F90",
          "#F7A",
          "#F6D",
          "#D6F",
          "#A6F",
          "#D5F",
          "#D6A",
          "#6F6",
          "#F7F",
          "#F77",
          "#6FF",
          "#F99",
          "#9F0",
          "#FF6",
          "#6F9",
          "#0F9",
          "#9FF",
          "#0FF",
          "#F0A",
          "#F0F",
          "#F80",
          "#80F",
          "#0F0",
          "#F00",
          "#FF0",
        ];
        const scene = document.querySelector("a-scene");

        for (let i = 0; i < lightCount; i++) {
          const light = document.createElement("a-light");
          light.setAttribute("type", "directional");
          light.setAttribute("intensity", Math.random() * 5 + 1); // Increased intensity
          light.setAttribute(
            "color",
            colors[Math.floor(Math.random() * colors.length)]
          );
          light.setAttribute(
            "position",
            `${Math.random() * 45 - 20} ${Math.random() * 39 - 20} ${
              Math.random() * 38 - 20
            }`
          ); // Increased range
          light.setAttribute(
            "rotation",
            `${Math.random() * 180 - 90} ${Math.random() * 360} ${
              Math.random() * 180 - 90
            }`
          );

          const target = document.createElement("a-entity");
          target.setAttribute("position", "0 0 -1");
          light.appendChild(target);

          scene.appendChild(light);
        }
      </script>

      <a-camera position="0 0 6"></a-camera>

      <a-sky src="img.jpg"></a-sky>
    </a-scene>

    <script>
      function animateDirectionalLights() {
        const lights = document.querySelectorAll('a-light[type="directional"]');

        function animate() {
          lights.forEach((light) => {
            light.setAttribute("intensity", Math.random() * 3 + 5);
            light.setAttribute(
              "color",
              `#${Math.floor(Math.random() * 16777215).toString(16)}`
            );
            light.setAttribute(
              "position",
              `${Math.random() * 45 - 20} ${Math.random() * 39 - 20} ${
                Math.random() * 38 - 20
              }`
            ); // Increased range

            light.setAttribute(
              "rotation",
              `${Math.random() * 174 - 90} ${Math.random() * 360} ${
                Math.random() * 183 - 90
              }`
            );
          });
          setTimeout(animate, 100);
        }

        animate();
      }

      animateDirectionalLights();
    </script>
  </body>
</html>
